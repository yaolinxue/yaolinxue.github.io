import{_ as s,o as a,c as t,a6 as e}from"./chunks/framework.BkI9ovSD.js";const g=JSON.parse('{"title":"ubuntu 20.04编译android-6.0.1_r77","description":"","frontmatter":{"title":"ubuntu 20.04编译android-6.0.1_r77","date":"2020-08-31T00:00:00.000Z","categories":["android"],"tags":["android","android-6.0.1_r77","ubuntu 20.04","源码编译"]},"headers":[],"relativePath":"blog/android/2020/ubuntu 20.04编译android-6.0.1_r77.md","filePath":"blog/android/2020/ubuntu 20.04编译android-6.0.1_r77.md","lastUpdated":1746603753000}'),n={name:"blog/android/2020/ubuntu 20.04编译android-6.0.1_r77.md"};function l(p,i,h,d,r,o){return a(),t("div",{"data-pagefind-body":!0},i[0]||(i[0]=[e(`<h2 id="缘起" tabindex="-1">缘起 <a class="header-anchor" href="#缘起" aria-label="Permalink to &quot;缘起&quot;">​</a></h2><p>最近公司业务涉及到抓包的工作内容，所以要研究抓包的工作内容，由于对数据抓取的内容研究不多，所以在摸索中慢慢研究。由于在研究的过程中，需要经常请教一位对安全研究比较多的同事，而且正好他有一台闲置的手机（lg nexus 5），就送给我了（感谢感谢同事的大力支持）。</p><p>那么，现在最新的android系统已经升级到了android 11，为什么要研究这么老的版本的系统呢？主要有两方面的考虑：</p><ul><li>android 6以上的版本对抓包管理比较严格</li><li>lg nexus 5官方支持的最高版本是android 6，且nexus 5硬件配置比较低</li></ul><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>网上关于android源码开发的文章有很多，为什么要我这个门外汉来写一篇文章来贻笑大方呢？</p><p>这也是综合考虑的结果：</p><ul><li>网上教程虽多，大多是android 6比较流行时的教程，系统硬件迭代很快，在现在android 10版本比较流行的时候，很少有人像我这么傻的去编译android 6.0</li><li>虽然教程比较多，但是我在尝试编译的过程中还是遇到了很多的问题，另一方面是用这篇文章来记录一下学习的过程</li></ul><h2 id="源码" tabindex="-1">源码 <a class="header-anchor" href="#源码" aria-label="Permalink to &quot;源码&quot;">​</a></h2><p>android管理源码是基于一个叫做repo的工具实现的，当然最终还是基于git管理源码的。源码部分包含两部分内容：</p><ul><li>管理工具repo配置</li><li>源码下载</li></ul><h3 id="配置repo" tabindex="-1">配置repo <a class="header-anchor" href="#配置repo" aria-label="Permalink to &quot;配置repo&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/bin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">~/bin:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://storage.googleapis.com/git-repo-downloads/repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/bin/repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/bin/repo</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/bin/repo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改REPO_URL地址为清华源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">REPO_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;https://mirrors.tuna.tsinghua.edu.cn/git/git-repo&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # &#39;https://gerrit.googlesource.com/git-repo&#39;</span></span></code></pre></div><h3 id="源码下载" tabindex="-1">源码下载 <a class="header-anchor" href="#源码下载" aria-label="Permalink to &quot;源码下载&quot;">​</a></h3><p>初始化仓库：</p><p>参数 <em>--depth=1</em> 表示只同步当前分支最后一次提交的代码，可以提高下载的速度</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.tuna.tsinghua.edu.cn/git/AOSP/platform/manifest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android-6.0.1_r77</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span></span></code></pre></div><p>同步源码树（以后只需执行这条命令来同步）：</p><p>参数 <em>-c</em> 表示只同步当前分支的代码，不会拉去其他的分支的源数据，可以提高下载的速度</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span></span></code></pre></div>`,21)]))}const c=s(n,[["render",l]]);export{g as __pageData,c as default};
